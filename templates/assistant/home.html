{% extends 'base.html' %}
{% load static %}

{% block title %} Home {% endblock %}
{% block content %}
<div class="row justify-content-center my-4">
    <div class="col-md-7 mt-4">
        <div class="card">
            <h1 class="card-header text-center">A.I WEB ASSISTANT</h1>
            <div class="card-body">
                <div id="customAlert" class="alert">
                    Speaking...
                </div>
                <pre>Hello, how can I help you?</pre>
                <form action="." method="POST">
                    <!-- this secures the form from malicious attacks during submission -->
                    {% csrf_token %}
                    <textarea class="form-control mb-2" required type="text" autofocus="autofocus" name="prompt"
                        value="{{ prompt }}" id="prompt" placeholder="Type your message..."></textarea>
                    <button class="btn btn-success fw-bold" type="submit">
                        GENERATE
                    </button>
                    <input id="clear" class="btn btn-warning fw-bold" value="CLEAR" type="button" />
                </form>
                <hr>
                {% if response %}

                <h2>Response:</h2>
                {% autoescape off %}
                <pre id="response">{{ response|safe }}</pre>
                {% endautoescape %}

                <div class="speak">
                    <input class="toggle" type="checkbox" role="switch" id="speakButton" name="toggle" value="on">
                    <label for="toggle" class="slot">
                        <span class="slot__label">OFF
                            <svg xmlns="http://www.w3.org/2000/svg" class="bi bi-megaphone" viewBox="0 0 16 16">
                                <path
                                    d="M13 2.5a1.5 1.5 0 0 1 3 0v11a1.5 1.5 0 0 1-3 0v-.214c-2.162-1.241-4.49-1.843-6.912-2.083l.405 2.712A1 1 0 0 1 5.51 15.1h-.548a1 1 0 0 1-.916-.599l-1.85-3.49-.202-.003A2.014 2.014 0 0 1 0 9V7a2.02 2.02 0 0 1 1.992-2.013 75 75 0 0 0 2.483-.075c3.043-.154 6.148-.849 8.525-2.199zm1 0v11a.5.5 0 0 0 1 0v-11a.5.5 0 0 0-1 0m-1 1.35c-2.344 1.205-5.209 1.842-8 2.033v4.233q.27.015.537.036c2.568.189 5.093.744 7.463 1.993zm-9 6.215v-4.13a95 95 0 0 1-1.992.052A1.02 1.02 0 0 0 1 7v2c0 .55.448 1.002 1.006 1.009A61 61 0 0 1 4 10.065m-.657.975 1.609 3.037.01.024h.548l-.002-.014-.443-2.966a68 68 0 0 0-1.722-.082z" />
                            </svg>
                        </span>
                        <span class="slot__label">ON
                            <svg xmlns="http://www.w3.org/2000/svg" class="bi bi-megaphone-fill" viewBox="0 0 16 16">
                                <path
                                    d="M13 2.5a1.5 1.5 0 0 1 3 0v11a1.5 1.5 0 0 1-3 0zm-1 .724c-2.067.95-4.539 1.481-7 1.656v6.237a25 25 0 0 1 1.088.085c2.053.204 4.038.668 5.912 1.56zm-8 7.841V4.934c-.68.027-1.399.043-2.008.053A2.02 2.02 0 0 0 0 7v2c0 1.106.896 1.996 1.994 2.009l.496.008a64 64 0 0 1 1.51.048m1.39 1.081q.428.032.85.078l.253 1.69a1 1 0 0 1-.983 1.187h-.548a1 1 0 0 1-.916-.599l-1.314-2.48a66 66 0 0 1 1.692.064q.491.026.966.06" />
                            </svg>
                        </span>
                    </label>
                </div>
                {% else %}
                <h2>There was no response...</h2>
                {% endif %}

            </div>
        </div>
    </div>
</div>
</div>

{% endblock %}